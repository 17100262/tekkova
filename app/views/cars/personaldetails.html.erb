<div class="container py-4">
<div class="row mt-2">
<div class="col-md-12 btn-group btn-breadcrumb car-details-tabs main-tabs">
    <a href="#" class="btn btn-primary no-link car_details">Car Details</a>
    <a href="#" class="btn btn-primary no-link car_pictures">Car Pictures</a>
    <a href="#" class="btn btn-primary no-link car_preference">Car Preference</a>
    <a href="#" class="btn btn-primary presonal_details active">Personal Details</a>
    <a href="#" class="btn btn-primary driver_license">Driver License</a>
    <a href="#" class="btn btn-primary availibility_pickup">Availibility & Pickup</a>
</div>
</div>
</div>
<h2 class="heading mt-4">Personal Details</h2>
<div class="w-100">
<img src="/car-personal_1.jpg" class="img-fluid background-bg-arow">
</div>
<div class="container py-4">
<div id="multi-form" class="car-personal">
<%= form_for(@user) do |form| %>
  <%  address = Geocoder.search(request.remote_ip).first %>
  <% if @user.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@user.errors.count, "error") %> prohibited this car from being saved:</h2>

      <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  
  <div id="wizard">
    <section>
      <h5>Address</h5>
      <div class="row">
        <div class="col-md-6">
          <%= form.label "House / Unit / Street Number" %> 
          <%= form.text_field :personal_house_number  %>
        </div>
        <div class="col-md-6">
          <%= form.label "Steet Name & Type" %> 
          <%= form.text_field :personal_street_name  %>
        </div>
      </div>  
      <div class="row">
        <div class="col-lg-4 col-md-6">
          <%= form.label "Suburb" %> 
          <%= form.text_field :personal_suburb,value: (address.city if address)  %>
        </div>
        <div class="col-lg-4 col-md-6">
          <%= form.label "State" %> 
          <%= form.text_field :personal_state,value: (address.state if address) %>
        </div>
        <div class="col-lg-4 col-md-6">
          <%= form.label "Postcode" %> 
          <%= form.text_field :personal_postcode,value: (address.postal if address)  %>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <%= form.label "Date of Birth" %> 
          <%= form.text_field :personal_dob,  id:"date-auto-slash", placeholder:' yy/mm/dd' %>
        </div>
        <div class="col-md-6">
          <%= form.label "Home Phone Number" %> 
          <%= form.text_field :home_phone_number  %>
      </div>  
      </div>
    </section>
    <%= form.hidden_field :step, value: 1 %>
  </div>

  
  <div class="float-right my-2">
  <%#= form.submit "Next", class:"btn btn-primary btn-sm pl-3 pr-3" %>
   <button type="submit" class="btn btn-primary btn-sm pl-3 pr-3 float-right">Next <i class="fas fa-caret-right"></i></button>
  </div>
  <br>
  <br>
<% end %>
</div>
</div>


<script>
  $( document ).ready(function() {
	$('#date-auto-slash').bind('keyup','keydown', function(event) {
  	var inputLength = event.target.value.length;
    if (event.keyCode != 8){
      if(inputLength === 7 || inputLength === 4){
        var thisVal = event.target.value;
        thisVal += '/';
        $(event.target).val(thisVal);
    	}
    }
  })
});
</script>