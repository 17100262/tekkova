<div class="sign-in-bg">
<div class="container-fluid pt-5 pb-5" >
  <div class="row">
    <div class="col-md-4 mx-auto">
       <div id="dragit">
  			<div class="Signin-main px-4">
          <div class="signin-top-icon">
      <img src="/arrow.png" width="60px" class="darg-img-non" draggable="false">
     </div>
  				<h1>Login to Tekkova</h1>
                <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
                    <%= devise_error_messages! %>
                    <a href="#" class="login loginmodal-button loginmodal-social loginmodal-fb" data-toggle="modal" data-target="#fbModal">Continue with Facebook</a>
              <a href="#" class="login loginmodal-button loginmodal-google" data-toggle="modal" data-target="#googleModal">Continue with Google</a>
        				<%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control form-control-md mb-2", placeholder: "Enter Your Email" , id: "join_email" %>
                        <%= f.password_field :password, autocomplete: "off", class: "form-control form-control-md mb-2", placeholder: "Enter Your Password"  , id: "join_pword" %>
    					<%= f.submit "Login", class: "login loginmodal-button loginmodal-submit" %>
    				    <div class="row">
    				        <div class="col-md-6">
            					<% if devise_mapping.rememberable? -%>
                                    <div class="field">
                                      <%= f.check_box :remember_me %>
                                       <%= f.label :remember_me %>
                                    </div>
                                <% end -%>
                            </div>
                            <div class="col-md-6 text-right">
                                <%- if devise_mapping.recoverable? && controller_name != 'passwords' && controller_name != 'registrations' %>
                                  <%= link_to "Forgot Password?", new_password_path(resource_name) %><br />
                                <% end -%>
                            </div>
                        </div>
               <% end -%>

  			<hr class="hr-or">
  			<p style="text-align: center;">Not a Member yet? <a href="/users/sign_up"> Sign Up </a></p>
  		</div>
    </div>
  </div>
</div>
</div>
</div>

<div class="container">
  <div class="modal fade modal-verticallly-centr" id="fbModal">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content black-modal-bg">
        <!-- Modal body -->
        <div class="modal-body">
         <p>Please read and review the below policies in order to sign up or for more information access all our policies under "Learn More" at the top right hand side of the page. By clicking agree you acknowledge you have read and understood & accept the below policies.</p>
          <ul>
            <li><a href="/terms_and_conditions" target="_blank">MarketPlace Terms & Conditions</a></li>
            <li><a href="/privacy_policy" target="_blank">Privacy Policy</a></li>
            <li><a href="/nd_policy" target="_blank">Non-discrimination Policy</a></li>
          </ul>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <%= link_to 'Continue',  "#{root_url}users/auth/facebook" ,:class => "btn btn-primary" %>
        <!--<input type="submit" name="commit" value="Sign Up" class="btn btn-primary" id="tick" data-disable-with="Sign Up">-->
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  <!--facebook modal end-->


  <!--google modal start-->
  <div class="modal fade modal-verticallly-centr" id="googleModal">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content black-modal-bg">
        <div class="modal-body">
         <p>Please read and review the below policies in order to sign up or for more information access all our policies under "Learn More" at the top right hand side of the page. By clicking agree you acknowledge you have read and understood & accept the below policies.</p>
          <ul>
            <li><a href="/terms_and_conditions" target="_blank">MarketPlace Terms & Conditions</a></li>
            <li><a href="/privacy_policy" target="_blank">Privacy Policy</a></li>
            <li><a href="/nd_policy" target="_blank">Non-discrimination Policy</a></li>
          </ul>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
         <%= link_to 'Continue',  "#{root_url}users/auth/google_oauth2" ,:class => "btn btn-primary" %>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  <!--google modal end-->


</div>

<script>
  var draggable = $('#dragit'); //element

draggable.on('mousedown', function(e){
  var dr = $(this).addClass("drag").css("cursor","move");
  height = dr.outerHeight();
  width = dr.outerWidth();
  ypos = dr.offset().top + height - e.pageY,
  xpos = dr.offset().left + width - e.pageX;
  $(document.body).on('mousemove', function(e){
    var itop = e.pageY + ypos - height;
    var ileft = e.pageX + xpos - width;
    if(dr.hasClass("drag")){
      dr.offset({top: itop,left: ileft});
    }
  }).on('mouseup', function(e){
      dr.removeClass("drag");
  });
});
</script>