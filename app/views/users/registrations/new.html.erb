<div class="signup-bg">
<div class="container-fluid  pb-5" >
  <div class="row">
    <div class="col-md-4 mx-auto">
      <div class="" id="dragit">
        <div class="Signin-main px-4">
           <div class="signin-top-icon">
            <img src="/arrow.png" width="60px" class="darg-img-non" draggable="false">
          </div>
  				<h1>Join Tekkova</h1>
  				<%= alert %>
            <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
              <%= devise_error_messages!   %>
              <a href="#" class="login loginmodal-button loginmodal-social loginmodal-fb" data-toggle="modal" data-target="#fbModal">Continue with Facebook</a>
              <a href="#" class="login loginmodal-button loginmodal-google" data-toggle="modal" data-target="#googleModal">Continue with Google</a>
        				<%#= link_to 'Continue with Facebook',  "#{root_url}users/auth/facebook" ,:class => "login loginmodal-button loginmodal-social loginmodal-fb" %>
    						<%#= link_to 'Continue with Google',  "#{root_url}users/auth/google_oauth2" ,:class => "login loginmodal-button loginmodal-google" %>
                <%= f.text_field :firstname , autofocus: true,required: true,class: "form-control form-control-md mb-2", placeholder: "Enter Your First Name" %>
                <%= f.text_field :lastname , required: true,class: "form-control form-control-md mb-2", placeholder: "Enter Your Last Name" %>
                <%= f.text_field :personal_mobile ,required: true,class: "form-control form-control-md mb-2", placeholder: "Enter Your Mobile Number", maxlength:"10", minlength:"10",  oninvalid:"this.setCustomValidity('Please ensure your mobile number is correct')", oninput:"this.setCustomValidity('')" %>
                <%= f.email_field :email, autocomplete: "email",required: true, class: "form-control form-control-md mb-2", placeholder: "Enter Your Email" , id: "join_email" %>
                <%= f.password_field :password, autocomplete: "off",required: true, class: "form-control form-control-md pss_next mb-2", placeholder: "Enter Your Password"  , id: "join_pword" %>
                <%= f.password_field :password_confirmation, autocomplete: "off",required: true, class: "form-control form-control-md mb-2", placeholder: "Confirm Your Password", id: "join_cpword" %>
                <div class="input-file-container">
                    <%= f.file_field :profile_image, accept:"image/*", required: false, class:"input-file", :data => { :buttonText => 'bar' } %>
                    <label tabindex="0" for="user_profile_image" class="input-file-trigger bg-primary mb-2">Upload Profile Picture</label>
                    <span class="file-return">No File Choosen</span>
                </div>
                <br>
                <br>
                <%= f.check_box :offers %> <span class="mb-0">Yes,send me special offers,discounts and updates</span><br>
    					<input type="checkbox" required="true" id="agreed">
              I Agree to <a href="/terms_and_conditions">Marketplace Terms and Conditions</a>, &nbsp;&nbsp;&nbsp;&nbsp;<a href="/privacy_policy">Privacy Policy</a> and <a href="/nd_policy">Non-Discrimination Policy</a><br><br>
    					  <%= f.submit "Sign Up", class: "login loginmodal-button loginmodal-submit text-center" %>


      			<% end %>


  				<hr class="hr-or">
  				<p style="text-align: center;">Already a Member? <a href="/users/sign_in"> Login </a></p>
      </div>
    </div>
  </div>
</div>
</div>

<div class="container">
  <div class="modal fade modal-verticallly-centr" id="fbModal">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content black-modal-bg">
        <!-- Modal body -->
        <div class="modal-body">
         <p>Please read and review the below policies in order to sign up or for more information access all our policies under "Learn More" at the top right hand side of the page. By clicking agree you acknowledge you have read and understood & accept the below policies.</p>
          <ul>
            <li><a href="/terms_and_conditions" target="_blank">MarketPlace Terms & Conditions</a></li>
            <li><a href="/privacy_policy" target="_blank">Privacy Policy</a></li>
            <li><a href="/nd_policy" target="_blank">Non-discrimination Policy</a></li>
          </ul>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <%= link_to 'Continue',  "#{root_url}users/auth/facebook" ,:class => "btn btn-primary" %>
        <!--<input type="submit" name="commit" value="Sign Up" class="btn btn-primary" id="tick" data-disable-with="Sign Up">-->
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  <!--facebook modal end-->


  <!--google modal start-->
  <div class="modal fade modal-verticallly-centr" id="googleModal">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content black-modal-bg">
        <div class="modal-body">
         <p>Please read and review the below policies in order to sign up or for more information access all our policies under "Learn More" at the top right hand side of the page. By clicking agree you acknowledge you have read and understood & accept the below policies.</p>
          <ul>
            <li><a href="/terms_and_conditions" target="_blank">MarketPlace Terms & Conditions</a></li>
            <li><a href="/privacy_policy" target="_blank">Privacy Policy</a></li>
            <li><a href="/nd_policy" target="_blank">Non-discrimination Policy</a></li>
          </ul>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
         <%= link_to 'Continue',  "#{root_url}users/auth/google_oauth2" ,:class => "btn btn-primary" %>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  <!--google modal end-->


</div>
<script>
  var draggable = $('#dragit');
draggable.on('mousedown', function(e){
  var dr = $(this).addClass("drag").css("cursor","move");
  height = dr.outerHeight();
  width = dr.outerWidth();
  ypos = dr.offset().top + height - e.pageY,
  xpos = dr.offset().left + width - e.pageX;
  $(document.body).on('mousemove', function(e){
    var itop = e.pageY + ypos - height;
    var ileft = e.pageX + xpos - width;
    if(dr.hasClass("drag")){
      dr.offset({top: itop,left: ileft});
    }
  }).on('mouseup', function(e){
      dr.removeClass("drag");
  });
});

</script>
